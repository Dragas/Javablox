language: java
install: true
dist: xenial
script:
- "./gradlew build --scan -s"
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_install:
- openssl aes-256-cbc -k $enc_secret -iv $iv -in secrets.tar.enc -out secrets.tar
  -d
- chmod +x gradlew
- chmod +x deploy.sh
- tar xvf secrets.tar
- "./gradlew wrapper"
jdk: oraclejdk11
after_success:
- "./deploy.sh"
- wget https://raw.githubusercontent.com/k3rn31p4nic/travis-ci-discord-webhook/master/send.sh
- chmod +x send.sh
- "./send.sh success $TCLRainbow"
- "./send.sh success $Sanjay"
after_failure:
- wget https://raw.githubusercontent.com/k3rn31p4nic/travis-ci-discord-webhook/master/send.sh
- chmod +x send.sh
- "./send.sh failure $TCLRainbow"
- "./send.sh failure $Sanjay"
env:
  global:
  - secure: "+nTUBjf5tbp4IVGcOPe8bvXrDohccT0gHjX1uCDjuPdzsH0qjB3aXVXYQlXp6kcl0dT4EYyx4ee1EDInzDB01iWdwSzJqtE9sA2Dz88eq3RaxUZ9lMxGz61tysCs64r5P65fwKWW65g5XXK78Rnp7XONEERE7HGlUQkGXiuVy3WCEl7WGdxWuNPrDUh6t4hKHD6osQlTovuKGH8A5qWcus3ZGoyi3muJRhjADx6SrEidIRo+vhEq9MNnA+jYHj2O4002mAhhyi8dWedCJd2j7WWlBWdHkdWsFqhdqOCaJ2+DoxYYWlNq9IsVj+I5kdCYHKyzhiDaYORHG5sKFyCW+bQ9UacUW8C3aCwnLGRdj3PS0OkedH++9Lmg6GpD1ACpOohmWlE7S0793+UjEnWalRDXTF8PSGwjzFerv06xHjhUGfOb8owJNSD6EZqFwyGJFN8nFQDUoMVKKdNPzDEamyZWpoO4MYAd60SXiXY7lwnyUQRtvQaASweeJRDVeCzJMyDFYp6z2otApmOwd69ghr2/VRFDTqnh4QbXleRAAuJ5WKyZJpNa4btxFt0I5ehsM5qZSwoTDevjW/djQvT3xd6D5Vdkx0k84WwRiLF7F9ecn0zbV8aZIrV9bVOOrSEvZotnt2005pPp+UX6LrCOA6AkWkO5mayB+MPSUUBrTY8="
  - secure: xHGzvLDV30mdbnhdlN/9Iy+DKqdeqiq5NJnPfbsLMFU/4OJm5NO+GLLIVfYT32+/TUQlFe8tW3ECpnL4at2eMXAVDq0xjfmT/2Z/9dE3rm8fhBaZnXHlV3S2sMJLf95CyUes8xHtYu0kSlRE1TxAHxo9sQINolzoUXnbfOFqQyqH2oyGihOHCgIbPgtVa+DZTisn+4yza+t14ieO3LC5yo9G0uDfwFlHovPRXHODTAHR9VgqqZQOU8FKMcrU/L6qFPgkW1sZL1/KAXJttjjuZEBLqHDoEEgTrDarTch8ZchhS7sKNXpdZcgRYM5AO2GgPQK2Ktnus6CLExbLSogA71JFaMlzkvr2JAgSohTFtlNdvJEk4wRLymWwQ3qPafM2S8D/ssyybcM+5zcCAJ3ry147VpaS1Sju2hvJtKCoZlsTosY9TOjChmYnQPlcPl+FslL6VY5CazlxAmloPmFZrUz0hh6v0gAVvlUm9kfIpTdpYWWoNstU57wC43ayGc8dD5vc0Yr3EIJrn09z2vIZQPLKxSdP8F5MCM0XvL47/UJ1Z0I9otnIA0T5/IGaufqe8sW83H4HUPBRnbbUn9+aPUOdE1hemaJ1dMqdcBdCULiU/QoYkqpAWJRsTGTKH+Jgd2JpJpWGmyuY5HNlrXGnb/3pWLv4gLJgafr77/IneMM=
  - secure: DIMHlp1aHg2Sr8exCq112f5TECNROvR7g9/pcCuPb1jr1OXFvWkfaY5ZJCzecjRjPV4QcWIQflPpIg5r052aAPjNx5kS7OBdgcM20MRzyU/Uy9VhqLDBo3yP0byvnNj+fPrYHNzN3c/1XO+WqCA6L5NmAXPlyBEwQJKILHRH7ZRgER9j9UoACuRw8FToidyakNNwaiKf0t6oGvnbWHabksgLoP24GoFmhccJ9zR2XjOMa8LRWGHAuFgPhKGIdBkhlsJ4Rv5el9fCID8TshA/2oWK4TyGRZ7QYVqyMz2oyZK3uu5NITzTllT5Nj+1o9pGhLqdASurox8q+gV3HznW8lcw9F1oTnKGZX5RHKhGcdSx3kHT3uRka4OppXhwK6i0zwrUFpFAdMU8pZQDDBEmeoTbA1g2K/ptv6+B152DuhZZCCt/VbU3OpAYTyO/ykpXKI/7QqH1y/rnHQeRgTi1xdwtBPa5xFMFMIf6VV+bY68YEKIAl+dT8YpTSlXnzRVrV8fHmQTufTTz9sZNk+k2TV/dXBzRr3bgq0A/1VFbxq60phPPC0pF+P0uyYxCAxRCTpkDg3lEqZOW5oyadcjExMQ+cR7u8jkwnNFqiGrNcUxeRkGQyH6QMWljTZmP6YRZNQUC+/MN7KjmU7UrBd6llSeKse2dAGDh6hMnKt4Bt0A=
  - secure: s7XVgjOjsKjSCm6XQ2t9qe5JQ7LLthSR2rjfCywgcKIdvF/hxEn4kmuhVFWic5rVgemodl8hmd70mBQaV1waeviiWgM44k7q1uAiFSKjasAa9nkD6Dbo+i9ZPwxM+Xt7p0RiKenz1Q1dZFr77TKINspdY7uuXmsvB4FzMkmPtyVsooUWTJP3wlUh/+C6w0RajIvY987vqfZo4j0ogJM1QgXzaufWMDq0a93S1mrCiRNAL+zTXeTHglfJDcyOg0y9prc0HKpG+ZdLGOV4xuWWsrLSiMoaNjcjBmPwddbNTNf8dzReQcNotukDFo+yvAiP9HZKNwHmPhca3P+7/+Y4I//sPEaqge0NTGpaQYQ+B9p1I6uGzk1mSOfZaovWD2UCSaIpk1XgKrEe+FY3SL4vk3n3xqZ7gGb3+Wb0ULrgw/anT0m3fA6Ri7Rx9LLegOxy/5BR5ZMq/eK7uZ1EkN++5kq5hTA56vkl9RqMu/UjC0WAFzSon6/LG8eaBPApBI/B3zme999dXqbEjkNAJZasibRkuecKPCPYevkJjx+JgVtegf2SXs0Vdo4klNFCx8k7FiYlOheXnJ1WgL87Tchwv7HwMrzycuZuMMZ/U+5y4uTyonl2rM4AK74vTpsITpJxHPG6I8iIZt9D7op7B6aUivRq6rZBhxFtSsSLDMdEWG8=
