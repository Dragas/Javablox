language: java
install: true
dist: xenial
script:
- "./gradlew build --scan -s"
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_install:
- openssl aes-256-cbc -k "$secret" -iv "$iv" -in secrets.tar.enc -out secrets.tar
  -d
- chmod +x gradlew
- chmod +x deploy.sh
- tar xvf secrets.tar
- "./gradlew wrapper"
jdk: oraclejdk11
after_success:
- "./deploy.sh"
- wget https://raw.githubusercontent.com/k3rn31p4nic/travis-ci-discord-webhook/master/send.sh
- chmod +x send.sh
- "./send.sh success $TCLRainbow"
- "./send.sh success $Sanjay"
after_failure:
- wget https://raw.githubusercontent.com/k3rn31p4nic/travis-ci-discord-webhook/master/send.sh
- chmod +x send.sh
- "./send.sh failure $TCLRainbow"
- "./send.sh failure $Sanjay"
env:
  global:
  - secure: "+nTUBjf5tbp4IVGcOPe8bvXrDohccT0gHjX1uCDjuPdzsH0qjB3aXVXYQlXp6kcl0dT4EYyx4ee1EDInzDB01iWdwSzJqtE9sA2Dz88eq3RaxUZ9lMxGz61tysCs64r5P65fwKWW65g5XXK78Rnp7XONEERE7HGlUQkGXiuVy3WCEl7WGdxWuNPrDUh6t4hKHD6osQlTovuKGH8A5qWcus3ZGoyi3muJRhjADx6SrEidIRo+vhEq9MNnA+jYHj2O4002mAhhyi8dWedCJd2j7WWlBWdHkdWsFqhdqOCaJ2+DoxYYWlNq9IsVj+I5kdCYHKyzhiDaYORHG5sKFyCW+bQ9UacUW8C3aCwnLGRdj3PS0OkedH++9Lmg6GpD1ACpOohmWlE7S0793+UjEnWalRDXTF8PSGwjzFerv06xHjhUGfOb8owJNSD6EZqFwyGJFN8nFQDUoMVKKdNPzDEamyZWpoO4MYAd60SXiXY7lwnyUQRtvQaASweeJRDVeCzJMyDFYp6z2otApmOwd69ghr2/VRFDTqnh4QbXleRAAuJ5WKyZJpNa4btxFt0I5ehsM5qZSwoTDevjW/djQvT3xd6D5Vdkx0k84WwRiLF7F9ecn0zbV8aZIrV9bVOOrSEvZotnt2005pPp+UX6LrCOA6AkWkO5mayB+MPSUUBrTY8="
  - secure: xHGzvLDV30mdbnhdlN/9Iy+DKqdeqiq5NJnPfbsLMFU/4OJm5NO+GLLIVfYT32+/TUQlFe8tW3ECpnL4at2eMXAVDq0xjfmT/2Z/9dE3rm8fhBaZnXHlV3S2sMJLf95CyUes8xHtYu0kSlRE1TxAHxo9sQINolzoUXnbfOFqQyqH2oyGihOHCgIbPgtVa+DZTisn+4yza+t14ieO3LC5yo9G0uDfwFlHovPRXHODTAHR9VgqqZQOU8FKMcrU/L6qFPgkW1sZL1/KAXJttjjuZEBLqHDoEEgTrDarTch8ZchhS7sKNXpdZcgRYM5AO2GgPQK2Ktnus6CLExbLSogA71JFaMlzkvr2JAgSohTFtlNdvJEk4wRLymWwQ3qPafM2S8D/ssyybcM+5zcCAJ3ry147VpaS1Sju2hvJtKCoZlsTosY9TOjChmYnQPlcPl+FslL6VY5CazlxAmloPmFZrUz0hh6v0gAVvlUm9kfIpTdpYWWoNstU57wC43ayGc8dD5vc0Yr3EIJrn09z2vIZQPLKxSdP8F5MCM0XvL47/UJ1Z0I9otnIA0T5/IGaufqe8sW83H4HUPBRnbbUn9+aPUOdE1hemaJ1dMqdcBdCULiU/QoYkqpAWJRsTGTKH+Jgd2JpJpWGmyuY5HNlrXGnb/3pWLv4gLJgafr77/IneMM=
  - secure: zOPuedT4jJ9omobvCqZrA7+1yT3CMJF3BYFqJfkjt9oco8jmYzWJZmVN9WtW64ViQnuFOjRj/TzUouuhbsRU75k1OWss9wGvZyhNQSRElIXCvyWGzhuE6JT5PV8OxgU0ojkRtYjRgwXM1/+e3aGc1fGKnkzgY2TBY+GBqwQazw6GPIsO3+FJJVc1V5oSNrlVxqGJ6OpYCu01pCqgdOn8oq/avWXQENpWY+BUXQ5dummOaYTZi8Yh+HcZccJuWn2bJVqhPrDnVf+N5726D7h3B+lqSL5FMEEAE6SnVBGvHpbXxf4nFMraniCYpNB6g+/kcoHiloOaQQIw9/C5Pg0I6RtbIr0J0ivPGJKapbFc/spEP6D193vZP3ooFr0n6X/Atymji1STLGI1NH6a8NHuYF4zELKNvWjHk/uomivN91eubfJ027VgwBVQyn0lg52NwW3V1ELjjirM9wBXXWhRr5TWjUdPrP8NvcFbF40cbnA2SbLpz2hmIQ1Je6s7kTqb2BmMwtqt/jJoEJwvMLKp5B0eOQyh+e/z8jj6iN4tEBGtnfRijeC0WLsX141lonJ6aZ5fDF+MFQWGV2jEiV/y99NxSIEEwAV4m7chPIHMkMfamn23PehHF/dqfgXDJgoBaC4tHkW3KN7ltfaLSRo4BCckSVyMnX95n2At2i7WlOQ=
  - secure: d2MbAKC6BlECwT5vzFBYZqg2jWx/bc8U8J9ZDzv+vFZ0JIKEfFql67l7FQOwBzLfKAtobWkH/exxh4efFmFq20XlbcC05r+bxja1WokthYBHi2vmYulqgxepIBV5dpKHWpyTHqL8tC5j2UMXFTA1XMJpUPxBhakPS5ktXMVv84rEc6Qa7QBepJTzuc+csyb7iwwxRohC8pq/OgcZLbF8xR9LCa3DpO+Sy1YIatST+qOZTEiGSfQIO5hsuXGjyj0FFzfgJCoeImCFZEI6rlftc8KIDc5tr7RszaheRBM4BByrRrugvJ1CJaB01nHGp8I6O1/8gwgZip0kKWx1I3iYVTunbKl5LvZmJ96JQjNWgeKfu8BOSBI8Ab4IbQfyS3NhTaMjPOhN09BkCQ6jZOCsTIePu0PjdQUMv3ftVueXT4JUQIlxy02WTxOH+MvzzjIk/b+jsCMpeCQco4CvuObZczjMFi7gM9jj5wJU1MDwUse04GqfnFVdFtPOhYgNDo9bbgaa2SWSzHC9t9WefS5wHn8AefbPK7UDkZ8yxXGc5lTwAXEWs2bkgrRMuZaMRJZca6g5idK+aXpIH0b0Z4CSU3q9GmZQK1/zcbhp88k3l7ZGA51k2SM58q6bGS4dvmv1JnN02INlTbD9/phV6i1tR6BoxWIiYgqtZBaTkotcJSA=
