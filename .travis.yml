language: java
install: true
dist: xenial
script:
- ./gradlew build --scan -s -PmavenUser=${mavenUser} -PmavenPassword=${mavenPassword} -Psigning.keyId=${GPG_KEY_ID} -Psigning.password=${GPG_KEY_PASSPHRASE} -Psigning.secretKeyRingFile=travis.gpg
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_install:
- chmod +x gradlew
- chmod +x deploy.sh
- ./gradlew wrapper -PmavenUser=${mavenUser} -PmavenPassword=${mavenPassword} -Psigning.keyId=${GPG_KEY_ID} -Psigning.password=${GPG_KEY_PASSPHRASE} -Psigning.secretKeyRingFile=travis.gpg
jdk: oraclejdk11
after_success:
- ./deploy.sh
- wget https://raw.githubusercontent.com/k3rn31p4nic/travis-ci-discord-webhook/master/send.sh
- chmod +x send.sh
- ./send.sh success $TCLRainbow
- ./send.sh success $Sanjay
after_failure:
- wget https://raw.githubusercontent.com/k3rn31p4nic/travis-ci-discord-webhook/master/send.sh
- chmod +x send.sh
- ./send.sh failure $TCLRainbow
- ./send.sh failure $Sanjay
env:
  global:
  - secure: r3eZ27uynhh6wfqXZjsmkK3P0JJdT72xwelkTAAgoFWv1tXdgyV+WRLHxBa9jlMNdXNeF+uW0CIIYZRD8nElQAjpUmYKeQZIyGiIch3bWAhNQmnr/HuUs/NEvOg/aCh43enctxs4aezkdHpv1SOOZW45mcdEs8VP5P/d+NODM7UnmMAuXA1I2PDtsMyFKsh4dJZIeHxFpB0yJiqKBzAItlXzoUHbWx9FJiWLfMeKUhGzLj4KHRYJUVIdvaemj0QQv/uKe/wYfm+zzmfB8STlqZJhXDgQ9WQhKqWhJrs6ge0ZFkPKaOAK4Jm8+ayi2jw6cTeHq/xJ3hOhcZM+cfJ4DsjLsnKWsY9AJn+iQrZXo1odUq0NrK1Ao03zihlmN/FnU19/hdNjnSBnIuPJtFxhB7SIO84sXIYJif8VO/a2N2PBI2O2PIXwrH+nUVXPT9A2ARW5bDIKjSYDFyrHhK1EBTLUCZlRVXSt/f3lQ5GBV/SDCD1E7uWAeURbEpsAeTh/vFMdf79MWFALFUF9RWTU0PKTKfWkpkq7hQ+tEAdROgFrZlyKfDqPuUet+4ALI85WxvzYT22f8fMJp7aBMRofW1qXLMzwFNL8yf7zEPZn9FPx0qLP6/0KkXESGJDak7Zup9HDP9fI0MIuZWIJZ5CGtVknh5Te2/zYrp83yIVpLjg=
  - secure: prkQh5ICzN23GhltnLqksJEtW7DuK20rlOEmSw5FW/xht255atKIYMTJWy9Y8aVN0bilRNtO2DjEHCWi9QPQ9vNh9ho5F52Agoh5ikRWmNikTCodThOotTNv+K6uIc9e5xYpnQu6APHPSSZY30CKHXe/aj2w4LxIc4CURO3miQQPW+agPsP1cn0QqRCoZh2EVMgrVbw30wciMmwQfyirixYzILT30aE3qAez7KsXcdLBclDALOmr+MypN2XrpU2pR1L2M09g+CgovOqznYU1ayc45bekqplhGoxFv6POUIcVbgCZe0EwRVvrgCqQMKEBNWHDQhPj7FRnIw2hufIZNEnLIk7NC4h9dAj7uWF1yu9M6Jy8YdjhFqIndcZOIRFtNcoyEfotLwr15EF2tvr3yy6tM/pMQF8Fy3MTY0xbVYkehFBPwDy5AewEUvYg2on4B0KsZAagVOp/9a9eMavhhXpP6l1pO4OkChBwOuuDLhDMdbzSdQDk7GEV/TMj5jXxZ7UwWU32sYP91xUeDehH+XJA8hH0l9BRGqZHeK68BYcmsvc9zaiuN17/yrtn7eCXg0nhDjyKVLyb8+GL3R7vvXdpbzLTBtBnOJjHFwE8AKoYvzR8KyEKfyD8TUwOJts4kp2ocYtme0yk1k8eacyI4S0hAyAcI9wq8RdMIvWJcz0=
  - secure: GnAK3M/BVNkOMaoJBo+iJ7ujg74YFxhNR0xl4I4zJ+WnUQdn9t0nS6rl+St2JFxW0o2UiDYOfKR3mK/GYif0V4X586NgTHJWg4WDAAPdzwgnTxE5zLJvOukvafajBG8NuR0nicQIkOLb2R6jeJ6DqypY0DR6vltIK/8iV38R4jEAkwCrI3nF7BAl3mUT/kwowN+5hbNvXg5PpPS3lhhI2pE5ZQ3yTULpEjOxLdIarKvHZkUEXcwarFXYqXMZDjmcmAVXxiqnUVOBtXrGN4+pzsbZysvm0HPDFykZh6jOhOFi35bGQbTAuuv+0DkZGWHQ9B+PU4sGP/jyhRFxwsXlzlVmQGUSZaxO6n+c/QAya+jww3p/xfG6z7wNdJqZINlR42yic+Ye9D7f4fEshr/ikROz+5gxjgW25u2Me6yTI1EcGVlRBbPPYizLNFcJi0SgyW+6ayDHo/ObEQXefW+/rINPEk11PwdZsTTNrEZgt6d0eiUKQUMVClKUQjZR5zyDfkKQXyoyi47bb9DaRjpN5+Mval4t3mtcWAgat3NIuP91SjvPlYicZYLxWfzO0A+nHXQl+ohGl7pWyir3USph9lZgPEIozqauc4JT4bk3V8GQPYV0KcLfjPpcLRgIemjLHVydVQxZ61kCR7bjBlNv+ikvlEHiU8Q/7X5kBfRGMsg=
  - secure: kW7QG8T3ElO2AL1OIRvhY898s37YaYcFL2hWDbZFza4v+cRPDQudCjKTprwlhejj3NMteS7OwSFwhtPhpdfShdmc4scB+LkCBOPKbmrwcHru0X9NRqXxHJ7gkZSsxaGUCRYSr8wTqXHq582Qgv8eHeDeUAZTHvDV7N6Uud57/0RI2bmHkvI/+1Tw+lCmv39jM31lVPts0F6wD9/52qCjJXRTqKHjspv4NdvVmjk6DnlVyXhrkwEX2dzqNAcOur4KNiscWkgIxmL5A+PGhCA07bnctEZSj0IakW4dzSpOyOF9bg/oG8dajdJiKL6woC2KKzi49svmAwJU/mR2NVrTY9NnceIQJMmMiDmIeKCajrgfgdGhIh3y6/67ex0BB9AsaQnBhPfCnacx+pqvnYjNnF5LDwaW/2p/K6Cg5eGizzlX5vjUKQzGexoImNcV1DJRh6wfs3KN1of0llxtVUAbNi49qGVX0AWkJaqo0sAhsnUxN3j8crosFyDwC8uEmW9BmvtaXS66W/zHhKMLg2pcKo0SL9qLSEFjZBGe1iTCDGCkZd+FBSU73+jkT2C/l6m/b+FUy1OZdw0hEM01b87mwS4mQFu99cR7YWVLqSvJaJvIipfatfmG5RC7PNepTd4a0fkoYuDSIlMu64lyQzbaNqOGTaz/f4ZhiFO+GUtRVqY=
