language: java
install: true
dist: xenial
script:
- "./gradlew build --scan -s"
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_install:
- openssl aes-256-cbc -K "$secret" -iv "$iv" -in secrets.tar.enc -out secrets.tar -d
- chmod +x gradlew
- chmod +x deploy.sh
- tar xvf secrets.tar
- "./gradlew wrapper"
jdk: oraclejdk11
after_success:
- "./deploy.sh"
- wget https://raw.githubusercontent.com/k3rn31p4nic/travis-ci-discord-webhook/master/send.sh
- chmod +x send.sh
- "./send.sh success $TCLRainbow"
- "./send.sh success $Sanjay"
after_failure:
- wget https://raw.githubusercontent.com/k3rn31p4nic/travis-ci-discord-webhook/master/send.sh
- chmod +x send.sh
- "./send.sh failure $TCLRainbow"
- "./send.sh failure $Sanjay"
env:
  global:
  - secure: "+nTUBjf5tbp4IVGcOPe8bvXrDohccT0gHjX1uCDjuPdzsH0qjB3aXVXYQlXp6kcl0dT4EYyx4ee1EDInzDB01iWdwSzJqtE9sA2Dz88eq3RaxUZ9lMxGz61tysCs64r5P65fwKWW65g5XXK78Rnp7XONEERE7HGlUQkGXiuVy3WCEl7WGdxWuNPrDUh6t4hKHD6osQlTovuKGH8A5qWcus3ZGoyi3muJRhjADx6SrEidIRo+vhEq9MNnA+jYHj2O4002mAhhyi8dWedCJd2j7WWlBWdHkdWsFqhdqOCaJ2+DoxYYWlNq9IsVj+I5kdCYHKyzhiDaYORHG5sKFyCW+bQ9UacUW8C3aCwnLGRdj3PS0OkedH++9Lmg6GpD1ACpOohmWlE7S0793+UjEnWalRDXTF8PSGwjzFerv06xHjhUGfOb8owJNSD6EZqFwyGJFN8nFQDUoMVKKdNPzDEamyZWpoO4MYAd60SXiXY7lwnyUQRtvQaASweeJRDVeCzJMyDFYp6z2otApmOwd69ghr2/VRFDTqnh4QbXleRAAuJ5WKyZJpNa4btxFt0I5ehsM5qZSwoTDevjW/djQvT3xd6D5Vdkx0k84WwRiLF7F9ecn0zbV8aZIrV9bVOOrSEvZotnt2005pPp+UX6LrCOA6AkWkO5mayB+MPSUUBrTY8="
  - secure: xHGzvLDV30mdbnhdlN/9Iy+DKqdeqiq5NJnPfbsLMFU/4OJm5NO+GLLIVfYT32+/TUQlFe8tW3ECpnL4at2eMXAVDq0xjfmT/2Z/9dE3rm8fhBaZnXHlV3S2sMJLf95CyUes8xHtYu0kSlRE1TxAHxo9sQINolzoUXnbfOFqQyqH2oyGihOHCgIbPgtVa+DZTisn+4yza+t14ieO3LC5yo9G0uDfwFlHovPRXHODTAHR9VgqqZQOU8FKMcrU/L6qFPgkW1sZL1/KAXJttjjuZEBLqHDoEEgTrDarTch8ZchhS7sKNXpdZcgRYM5AO2GgPQK2Ktnus6CLExbLSogA71JFaMlzkvr2JAgSohTFtlNdvJEk4wRLymWwQ3qPafM2S8D/ssyybcM+5zcCAJ3ry147VpaS1Sju2hvJtKCoZlsTosY9TOjChmYnQPlcPl+FslL6VY5CazlxAmloPmFZrUz0hh6v0gAVvlUm9kfIpTdpYWWoNstU57wC43ayGc8dD5vc0Yr3EIJrn09z2vIZQPLKxSdP8F5MCM0XvL47/UJ1Z0I9otnIA0T5/IGaufqe8sW83H4HUPBRnbbUn9+aPUOdE1hemaJ1dMqdcBdCULiU/QoYkqpAWJRsTGTKH+Jgd2JpJpWGmyuY5HNlrXGnb/3pWLv4gLJgafr77/IneMM=
  - secure: xWjvYOrokewd128yQqi1HIfhp01qGPtoRUJ0zkYX+Sw3Re2XHnWiZxPkxdbdB9rz/2bZIi6sxzbzGWD9kejyTos8/7OnnxggWX5ZZa0azWkbpuef+gmAS8QfHBQVhagR8AUs/3MSGttFUHWB9ozAWts7RPTxEUL08vxddlZ5Iy+DE6k3aVppZXYNEf/hcVPTEj5uVZhLWcnm0XUruh64jI/ibvdY80xr5SWSGPUcxtOGuZXM+RXjbrnKIhGOnSu6BTknYuGdQYJM36629bCUaCE3yU2KYIC/q2T5/GcIgg1o5RLW8Bd5MrJ0fIQdMTL7RFJJiFwwYKaZVxnrvRfEu3QlJvOhLs9+TdQuc+N/03eSAHApY0av5Uyd2ZvRC5EWhY0S69lYxxZqC4xl3YuL7i4rR42+7kTmuSN1HGdoJUB9f9765gHo7YXetUX+V6GdcK5OZdnfQ1FQmv/QY3pH6wg8VvAzHzi/P81ofCgFCDxhXbZAaaaXcKaWZwyA31cGgkKW3dm50Srh619ojL6BcPPbD92Rz1pcvdzyHxA/liBbGIWih0pxp1Ud77J/KI7YicawKn37bP0vvdpkzmKzOQKMPPGjzEUnjJSC8m2/j3rJfvNowchaCuZ04IfoyAi6jiE/A2jX+mROHssekRykMdXpWrMlT3wXXs15DkH0SGg=
  - secure: UD/UL6r8ru6j3aTAI3IUUFlxB3oLhTspyNsYVottJxoIisrRHdhXbtxqtKxJh/9LNP7OaLsAvHh8jxVBrIpl7D4vpvOI8X160uvvlfUKJZb/J/lRnW2TmXCbVzqiU5j/c5i4QW4Sv6wv0VYJRFnwAJinZgrVrHq6O/2joV7mXwQYoPQjsAt841dJ9TLiymRFAI3zNsSBgYg+qVnOnOZ16SR3326WjLzboOHBG1KEex7OzFQOhpPpihpLD9/+1+uS4pEGSwjQOhMVk9ndifZ7qMQ+aoim6oBL+8VVLHUET6KxQ0B115POsQUcgPRqULoLlzTLmCAJv+40gK7Syuih/tzdp1ouoexLHlq8sHmkvGuAVSVYlIamKWDQztN/HCNWS8PUFtbgTHCYU0oXNeSTp9/GdNVVNvrjT/fj3p/uYGkzXBkIpZAQXSWCklzUv+VrJQGnsDKukg2pBx0zmEpFqfmhqC13lWBm74Knij0PT/QNAlWSJX5j54ekxmtiEAvaeO9i90PfYCf3Nz/oVQcTSmBa14sFqxVnQOJPckyiyRG6gTj64whc+UrqMj3TQMQu8xa801B0+Lm0LxGP7PCL6Qb4uuElKWEa2dtllxNA9TpmXgxEyL/XZt6umSBhpikCuQVot1v4sbWcrm/M2Efo2MOMVE0ghRMQSaE6I3gS4Jk=
